---
import Layout from '../components/Layout.astro';
import Icon from 'astro-icon'

const links = ['Home', 'About', 'Contact'];
---

<script>
document.addEventListener('DOMContentLoaded', () => {
	const toggleButton = document.getElementById('nav-toggle-button');
	const icons = document.querySelectorAll('.toggle-icon')
	const nav = document.querySelector('nav');
	
	// Close the navigation on page load
	nav.style.height = 0 + 'px';
	
	toggleButton.addEventListener('click', () => {
		icons.forEach(i => i.classList.toggle('hidden'));

		const fullHeight = nav.scrollHeight + 'px'
		if (nav.style.height === fullHeight) {
			nav.style.height = 0
			return
		}
		nav.style.height = fullHeight
	})
});
</script>

<Layout title="Welcome to Astro.">
	<header class="mx-auto mt-5 max-w-xl bg-slate-600 text-white shadow-sm">
		<div class="flex justify-between">
			<h1 class="text-2xl p-4">Brand</h1>
			
			<button id="nav-toggle-button" class="pr-4" aria-label="Toggle navigation">
				<Icon name="mdi:menu" class="toggle-icon w-10 h-10" />
				<Icon name="mdi:close" class="toggle-icon w-10 h-10 hidden" />
			</button>
		</div>
		<nav>
			{links.map((link) => (
				<a href="#" class="block p-4 text-white">{link}</a>
			))}
		</nav>		
	</header>
</Layout>
